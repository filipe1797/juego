<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Traducción</title>
    <style>
        @font-face {
            font-family: 'Amasis MT Pro';
            src: url('AMASISMTPRO-REGULAR.woff2') format('woff2'),
                 url('AMASISMTPRO-REGULAR.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        body {
            font-family: 'Amasis MT Pro', sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #01579b;
            color: #ffffff;
            margin: 0;
        }
        h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ffffff;
        }
        #game-container {
            background-color: #ffffff;
            border: 2px solid #0277bd;
            border-radius: 10px;
            padding: 30px;
            max-width: 500px;
            margin: 20px auto;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        #word {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: black;
        }
        input[type="text"] {
            width: calc(100% - 30px);
            padding: 10px;
            margin-bottom: 20px;
            border: 2px solid #0288d1;
            border-radius: 5px;
            font-size: 1.2rem;
            background-color: #f1f8e9;
            color: #333;
        }
        button {
            background-color: #0277bd;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 12px 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s, background-color 0.3s;
        }
        button:hover {
            background-color: #01579b;
            transform: scale(1.05);
        }
        #feedback {
            margin-top: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #388e3c;
        }
        #history {
            margin-top: 40px;
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #263238;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        #history h2 {
            color: #0288d1;
        }
        #history ul {
            list-style-type: none;
            padding: 0;
        }
        #history li {
            padding: 10px 0;
            border-bottom: 1px solid #455a64;
            color: #ffffff;
        }
        #score {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: #388e3c;
        }
    </style>
</head>
<body>
    <h1>Juego de Traducción</h1>
    <div id="game-container">
        <p id="score">Porcentaje de aciertos: 0%</p>
        <p id="word">Palabra en español: <span>----</span></p>
        <input type="text" id="answer" placeholder="Escribe en francés">
        <button onclick="checkAnswer()">Confirmar</button>
        <p id="feedback"></p>
    </div>
    <div id="history">
        <h2>Historial de palabras jugadas:</h2>
        <ul id="wordHistory">
        </ul>
    </div>
    <script>
        const words = [
            { es: "rojo", fr: "rouge" },
            { es: "azul", fr: "bleu" },
            { es: "verde", fr: "vert" },
            { es: "amarillo", fr: "jaune" },
            { es: "negro", fr: "noir" },
            { es: "blanco", fr: "blanc" },
            { es: "morado", fr: "violet" },
            { es: "naranja", fr: "orange" },
            { es: "gris", fr: "gris" },
            { es: "rosa", fr: "rose" },
            { es: "celeste", fr: "bleu ciel" },
            { es: "beige", fr: "beige" },
            { es: "lila", fr: "lilas" },
            { es: "dorado", fr: "doré" },
            { es: "plateado", fr: "argenté" },
        ];

        let usedWords = [];
        let currentIndex = 0;
        let totalAnswers = 0;
        let correctAnswers = 0;

        function updateScore() {
            const scoreElement = document.getElementById("score");
            const percentage = totalAnswers === 0 ? 0 : Math.round((correctAnswers / totalAnswers) * 100);
            scoreElement.textContent = `Porcentaje de aciertos: ${percentage}%`;
            scoreElement.style.color = percentage > 50 ? "#388e3c" : percentage === 50 ? "#0288d1" : "#d32f2f";
        }

        function loadNextWord() {
            const availableWords = words.filter(word => !usedWords.includes(word));
            if (availableWords.length === 0) {
                alert("¡Has acertado todas las palabras! Reiniciando el juego...");
                usedWords = [];
                return loadNextWord();
            }
            const randomIndex = Math.floor(Math.random() * availableWords.length);
            const selectedWord = availableWords[randomIndex];
            currentIndex = words.indexOf(selectedWord);
            document.querySelector("#word span").textContent = selectedWord.es;
        }

        function checkAnswer() {
            const userAnswer = document.getElementById("answer").value.trim().toLowerCase();
            const correctAnswer = words[currentIndex].fr;
            const isCorrect = userAnswer === correctAnswer;
            totalAnswers++;
            if (isCorrect) {
                correctAnswers++;
                usedWords.push(words[currentIndex]);
            }

            const wordHistory = document.getElementById("wordHistory");
            const listItem = document.createElement("li");
            listItem.textContent = `${words[currentIndex].es} = ${correctAnswer} - ${isCorrect ? "✔️ Acertaste" : "❌ Fallaste"}`;
            wordHistory.prepend(listItem);

            updateScore();
            document.getElementById("answer").value = "";
            loadNextWord();
        }

        loadNextWord();
        updateScore();
    </script>
</body>
</html>
